# authentication-spring-boot-starter
这是基于 `shiro` 的用户授权封装，实现了基于 `jwt` 与 `redis` 的 `token` 管理。

## 一、登录用户类型管理

同时支持多种不同的用户登录，如 `admin` 和 `user` 等；
设计上采用了 `shiro` 的 `redlm` 思想，但是有所调整，将原先的执行领域链的方式改为了通过领域名称直接查找属于某个用户的领域，一个用户类型对应一个领域，实现不同类型用户登录。

具体上说，就是通过 `LoginType` 指定一个领域名称和 `header` 名称，这个指定 `header` 上的 `token` 将被分发到它对应的 `realm`。

## 二、用户角色管理

在使用上，对同一类型的用户很多时候需要细分，如细分为 `studet`、`teacher` 角色，他们需要有不同的权限。

设计上，在 `Jwt` 生成的 `Token` 中将存储对应的用户角色和用户id（不存储权限，权限可通过用户角色和id从数据库等方式获取），然后采用了 `TokenStore` 来实现同一个id不同用户角色的共存。

> 同一个用户类型依旧是在同一个 `realm` 中处理，具体的权限和 `token` 存储逻辑就看使用者在定义 `realm` 时的具体实现了；
> 总体上而言，一般是一个 `LoginType` 对应一个或多个 `TokenStore`。

